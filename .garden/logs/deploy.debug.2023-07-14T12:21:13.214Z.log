
[2023-07-14T12:21:13.232Z] Getting status...

[2023-07-14T12:21:14.004Z] resolve provider exec is ready.

[2023-07-14T12:21:14.010Z] resolve provider templated is ready.

[2023-07-14T12:21:14.014Z] resolve provider container is ready.

[2023-07-14T12:21:14.021Z] resolve provider pulumi is ready.

[2023-07-14T12:21:14.037Z] resolve provider jib is ready.

[2023-07-14T12:21:14.047Z] resolve provider kubernetes is ready.

[2023-07-14T12:21:14.051Z] Cached (took 0.8 sec)

[2023-07-14T12:21:14.052Z] Run with --force-refresh to force a refresh of provider statuses.

[2023-07-14T12:21:14.052Z] Resolving actions and modules...

[2023-07-14T12:21:14.222Z] Scanning module spring-boot-image root at /home/workstation/thx/workspace/garden-sample-project/garden-sample-project/spring-boot
  → Includes: ./**/pom.xml,./**/src/**/*,pom.xml
  → Excludes: **/.garden/**/*

[2023-07-14T12:21:14.322Z] Found 3 files in module spring-boot-image root /home/workstation/thx/workspace/garden-sample-project/garden-sample-project/spring-boot

[2023-07-14T12:21:14.420Z] Scanning module spring-boot-service root at /home/workstation/thx/workspace/garden-sample-project/garden-sample-project/spring-boot
  → Includes: ./*/config/*.xml,./*/config/application-gcp-dev.properties,./*/config/application-gcp.properties,./*/secrets/dev/**,./deployment/config/common.yaml,deployment/config/dev.yaml
  → Excludes: spring-boot,**/.garden/**/*

[2023-07-14T12:21:14.494Z] Found 2 files in module spring-boot-service root /home/workstation/thx/workspace/garden-sample-project/garden-sample-project/spring-boot

[2023-07-14T12:21:14.498Z] Converting jib-container module spring-boot-image to actions

[2023-07-14T12:21:14.499Z] Converting pulumi module spring-boot-service to actions

[2023-07-14T12:21:14.502Z] Module spring-boot-service converted to 1 action(s)

[2023-07-14T12:21:14.502Z] Module spring-boot-image converted to 1 action(s)

[2023-07-14T12:21:14.542Z] Scanning Deploy action spring-boot-service root at /home/workstation/thx/workspace/garden-sample-project/garden-sample-project/spring-boot
  → Includes: (none)
  → Excludes: **/.garden/**/*

[2023-07-14T12:21:15.143Z] Found 17 files in Deploy action spring-boot-service root /home/workstation/thx/workspace/garden-sample-project/garden-sample-project/spring-boot

[2023-07-14T12:21:15.938Z] Done (took 1.9 sec)

[2023-07-14T12:21:16.424Z] resolve Deploy type=pulumi name=spring-boot-service (from module spring-boot-service) is ready.

[2023-07-14T12:21:16.429Z] outdated

[2023-07-14T12:21:16.432Z] Deploying version v-7934ab101c...

[2023-07-14T12:21:16.453Z] merging config for action spring-boot-service

[2023-07-14T12:21:16.453Z] pulumiVariables from action: {}

[2023-07-14T12:21:16.454Z] varfileContents: [
  {
    "thx-sharedServices-spring-boot:app-name": "spring-boot",
    "thx-sharedServices-spring-boot:image-name": "spring-boot-image",
    "thx-sharedServices-spring-boot:app-version": "v-51e9748a55"
  },
  {
    "thx-sharedServices-spring-boot:springProfiles": "gcp,gcp-dev",
    "thx-sharedServices-spring-boot:appName": "spring-boot",
    "thx-sharedServices-spring-boot:namespace": "thx",
    "thx-sharedServices-spring-boot:dockerRepoUrl": "us-docker.pkg.dev/th-thx-common-46f5/thx-prod-docker-repo"
  },
  {
    "thx-sharedServices-spring-boot:replicas": 1
  }
]

[2023-07-14T12:21:16.454Z] merged vars: {
  "thx-sharedServices-spring-boot:app-name": "spring-boot",
  "thx-sharedServices-spring-boot:image-name": "spring-boot-image",
  "thx-sharedServices-spring-boot:app-version": "v-51e9748a55",
  "thx-sharedServices-spring-boot:springProfiles": "gcp,gcp-dev",
  "thx-sharedServices-spring-boot:appName": "spring-boot",
  "thx-sharedServices-spring-boot:namespace": "thx",
  "thx-sharedServices-spring-boot:dockerRepoUrl": "us-docker.pkg.dev/th-thx-common-46f5/thx-prod-docker-repo",
  "thx-sharedServices-spring-boot:replicas": 1
}

[2023-07-14T12:21:16.455Z] merged config (written to /home/workstation/thx/workspace/garden-sample-project/garden-sample-project/spring-boot/deployment/pulumi/Pulumi.dev.yaml): {
  "config": {
    "thx-sharedServices-spring-boot:app-name": "spring-boot",
    "thx-sharedServices-spring-boot:image-name": "spring-boot-image",
    "thx-sharedServices-spring-boot:app-version": "v-51e9748a55",
    "thx-sharedServices-spring-boot:springProfiles": "gcp,gcp-dev",
    "thx-sharedServices-spring-boot:appName": "spring-boot",
    "thx-sharedServices-spring-boot:namespace": "thx",
    "thx-sharedServices-spring-boot:dockerRepoUrl": "us-docker.pkg.dev/th-thx-common-46f5/thx-prod-docker-repo",
    "thx-sharedServices-spring-boot:replicas": 1
  },
  "backend": {
    "url": "https://api.pulumi.com"
  }
}

[2023-07-14T12:21:16.465Z] Spawning '/home/workstation/.garden/tools/pulumi-3-64-0/0a94b984fa69df6c/pulumi/pulumi stack select telushealth/dev --create' in /home/workstation/thx/workspace/garden-sample-project/garden-sample-project/spring-boot/deployment/pulumi

[2023-07-14T12:21:18.607Z] Applying pulumi stack...

[2023-07-14T12:21:18.608Z] Spawning '/home/workstation/.garden/tools/pulumi-3-64-0/0a94b984fa69df6c/pulumi/pulumi up --yes --color always --config-file /home/workstation/thx/workspace/garden-sample-project/garden-sample-project/spring-boot/deployment/pulumi/Pulumi.dev.yaml' in /home/workstation/thx/workspace/garden-sample-project/garden-sample-project/spring-boot/deployment/pulumi

[2023-07-14T12:21:20.373Z] [pulumi-3-64-0] Previewing update (telushealth/dev)

[2023-07-14T12:21:21.794Z] [pulumi-3-64-0] View Live: https://app.pulumi.com/telushealth/thx-sharedServices-spring-boot/dev/previews/51c8042d-15b8-461f-9f7f-05eeb92fc1e9

[2023-07-14T12:21:23.105Z] [pulumi-3-64-0] @ Previewing update....

[2023-07-14T12:21:23.106Z] [pulumi-3-64-0]     pulumi:pulumi:Stack thx-sharedServices-spring-boot-dev running 

[2023-07-14T12:21:23.404Z] [pulumi-3-64-0]     thx:service:ThxrestService spring-boot  

[2023-07-14T12:21:23.405Z] [pulumi-3-64-0]     pulumi:pulumi:Stack thx-sharedServices-spring-boot-dev running read pulumi:pulumi:StackReference telushealth/thx-gke/dev

[2023-07-14T12:21:24.673Z] [pulumi-3-64-0] @ Previewing update....

[2023-07-14T12:21:24.674Z] [pulumi-3-64-0]     pulumi:pulumi:Stack thx-sharedServices-spring-boot-dev running read pulumi:pulumi:StackReference telushealth/thx-gke/dev

[2023-07-14T12:21:24.735Z] [pulumi-3-64-0]     pulumi:providers:kubernetes k8s  

[2023-07-14T12:21:24.931Z] [pulumi-3-64-0] @ Previewing update....

[2023-07-14T12:21:24.932Z] [pulumi-3-64-0]  +  kubernetes:apps/v1:Deployment spring-boot create 

[2023-07-14T12:21:24.950Z] [pulumi-3-64-0]     pulumi:pulumi:Stack thx-sharedServices-spring-boot-dev  

[2023-07-14T12:21:24.951Z] [pulumi-3-64-0] Resources:

[2023-07-14T12:21:24.951Z] [pulumi-3-64-0]     + 1 to create

[2023-07-14T12:21:24.951Z] [pulumi-3-64-0]     3 unchanged

[2023-07-14T12:21:25.799Z] [pulumi-3-64-0] Updating (telushealth/dev)

[2023-07-14T12:21:27.254Z] [pulumi-3-64-0] View Live: https://app.pulumi.com/telushealth/thx-sharedServices-spring-boot/dev/updates/6

[2023-07-14T12:21:28.552Z] [pulumi-3-64-0] @ Updating....

[2023-07-14T12:21:28.552Z] [pulumi-3-64-0]     pulumi:pulumi:Stack thx-sharedServices-spring-boot-dev running 

[2023-07-14T12:21:30.896Z] [pulumi-3-64-0] @ Updating.....

[2023-07-14T12:21:30.897Z] [pulumi-3-64-0]     thx:service:ThxrestService spring-boot  

[2023-07-14T12:21:30.897Z] [pulumi-3-64-0]     pulumi:pulumi:Stack thx-sharedServices-spring-boot-dev running read pulumi:pulumi:StackReference telushealth/thx-gke/dev

[2023-07-14T12:21:32.447Z] [pulumi-3-64-0] @ Updating.....

[2023-07-14T12:21:32.448Z] [pulumi-3-64-0]     pulumi:pulumi:Stack thx-sharedServices-spring-boot-dev running read pulumi:pulumi:StackReference telushealth/thx-gke/dev

[2023-07-14T12:21:33.525Z] [pulumi-3-64-0] @ Updating....

[2023-07-14T12:21:33.526Z] [pulumi-3-64-0]     pulumi:providers:kubernetes k8s  

[2023-07-14T12:21:33.537Z] [pulumi-3-64-0]  +  kubernetes:apps/v1:Deployment spring-boot creating (0s) 

[2023-07-14T12:21:36.552Z] [pulumi-3-64-0] @ Updating......

[2023-07-14T12:21:36.553Z] [pulumi-3-64-0]  +  kubernetes:apps/v1:Deployment spring-boot creating (3s) 

[2023-07-14T12:21:36.554Z] [pulumi-3-64-0]  +  kubernetes:apps/v1:Deployment spring-boot creating (3s) [1/2] Waiting for app ReplicaSet be marked available

[2023-07-14T12:21:38.126Z] [pulumi-3-64-0] @ Updating....

[2023-07-14T12:21:38.127Z] [pulumi-3-64-0]  +  kubernetes:apps/v1:Deployment spring-boot creating (4s) warning: [MinimumReplicasUnavailable] Deployment does not have minimum availability.

[2023-07-14T12:21:38.439Z] [pulumi-3-64-0] @ Updating....

[2023-07-14T12:21:38.440Z] [pulumi-3-64-0]  +  kubernetes:apps/v1:Deployment spring-boot creating (4s) [1/2] Waiting for app ReplicaSet be marked available (0/1 Pods available)

[2023-07-14T12:21:46.562Z] [pulumi-3-64-0] @ Updating...........

[2023-07-14T12:21:46.562Z] [pulumi-3-64-0]  +  kubernetes:apps/v1:Deployment spring-boot creating (13s) warning: [Pod thx/spring-boot-7fd64dc658-qbfbc]: containers with incomplete status: [install-oneagent]

[2023-07-14T12:22:26.554Z] [pulumi-3-64-0] @ Updating...........................................

[2023-07-14T12:22:26.555Z] [pulumi-3-64-0]  +  kubernetes:apps/v1:Deployment spring-boot creating (53s) warning: [Pod thx/spring-boot-7fd64dc658-qbfbc]: containers with unready status: [spring-boot] -- [PodInitializing] 

[2023-07-14T12:22:28.919Z] [pulumi-3-64-0] @ Updating.....

[2023-07-14T12:22:28.920Z] [pulumi-3-64-0]  +  kubernetes:apps/v1:Deployment spring-boot creating (55s) Deployment initialization complete

[2023-07-14T12:22:29.253Z] [pulumi-3-64-0]  +  kubernetes:apps/v1:Deployment spring-boot created (55s) Deployment initialization complete

[2023-07-14T12:22:29.988Z] [pulumi-3-64-0] @ Updating....

[2023-07-14T12:22:29.988Z] [pulumi-3-64-0]     pulumi:pulumi:Stack thx-sharedServices-spring-boot-dev  

[2023-07-14T12:22:29.988Z] [pulumi-3-64-0] Resources:

[2023-07-14T12:22:29.989Z] [pulumi-3-64-0]     + 1 created

[2023-07-14T12:22:29.990Z] [pulumi-3-64-0]     3 unchanged

[2023-07-14T12:22:29.990Z] [pulumi-3-64-0] Duration: 1m3s

[2023-07-14T12:22:33.807Z] stack outputs for spring-boot-service: {}

[2023-07-14T12:22:33.809Z] Done (took 77.4 sec)

[2023-07-14T12:22:33.809Z] Deploy type=pulumi name=spring-boot-service (from module spring-boot-service) is ready.

[2023-07-14T12:22:33.862Z] Done! 

[2023-07-14T12:22:33.865Z] Done flushing all events and log entries.

[2023-07-14T12:22:33.916Z] Watcher: Initializing

[2023-07-14T12:22:33.918Z] Watcher: Starting FSWatcher
